План действий:
Twitter(scrapper)+RSS+Telegram (но разбить на отдельные даги) -> RabbitMQ -> Transform -> Upload (Mongo json сообщение с сентиментом, что ещё и где хранить подумать)
Blockchain API/RPC (BTC/ETH/SOL - возможно тоже разделить на разные даги) -> real-time KAFKA -> Transform -> Upload (через foreachBatch в clickhouse объёмы торгов по минутам, часам, дням(?))




Телеграм DAG:
получаю последний ид и дату публикации последнего сообщения из redis -> если последнего сообщения нет, то читаю последние 100 постов -> получаю сентимент -> собираю json для mongo: канал, ид, дата публикации, текст, сантимент -> гружу в монго -> сохраняю в redis id и дату публикации последнего сообщения 


ClickHouse (аналитика в реальном времени)
ClickHouse нужен для быстрых запросов по большим данным. Он идеально подходит для анализа криптовалютных транзакций, потоковых данных и больших логов:

1) Хранение данных о сделках на бирже (trades) Цель: Сохранять сделки в реальном времени, анализировать объёмы и тренды.
Задание: Найти самые крупные сделки за последние 24 часа
2) Хранение заявок на покупку/продажу (order book) Цель: Анализировать спрос и предложение на биржах.
Найти спред между лучшей заявкой на покупку и продажу
3) Хранение цен (OHLCV) для технического анализа Цель: Строить графики свечей для трейдеров.
Задача: Вычислить средний размер свечей за день
4) Анализ кошельков (on-chain аналитика) Цель: Отслеживать крупные переводы криптовалют.
Найти 10 самых крупных переводов за сутки

PostgreSQL (BI, отчёты, агрегированные данные)
PostgreSQL используется для хранения отчётных данных, анализа исторических данных и интеграции с BI-инструментами:

1) Хранение агрегированных данных о ценах Цель: Использовать PostgreSQL как хранилище для BI-отчётов.
Получить среднюю цену закрытия за месяц
2) Хранение новостей о криптовалютах (для BI-аналитики) Цель: Анализ настроений (sentiment analysis) в BI-инструментах.
Найти средний уровень настроений новостей за последние 7 дней
3) Отчёты о прибыльности сделок (PnL) Цель: BI-аналитика для инвесторов.
Рассчитать прибыль по пользователям
4) Хранение данных об адресах кошельков Цель: BI-аналитика по криптовалютным кошелькам.
Найти адреса с балансом более 100 BTC

